<html>
<head>
<link rel=Stylesheet href="/css/main.css">
<script src="/js/socket.io.js"></script>
<script src="/js/json2.js"></script>
<script src="/js/raphael.js"></script>
<script src="/js/objectConst.js"></script>
<script src="/js/objectMaker.js"></script>
<script src="/js/objectMediator.js"></script>
<script src="/js/objectCollection.js"></script>
<script src="/js/util.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<script src="/js/sprintf.js"></script>

<script type='text/javascript'>
var start_rect;
var v = {
    'campus'   :{'w':1000, 'h':250,'margin':{'w':30,'h':10}},
    'pathL'    :{'attr':{"stroke":"royalblue", "stroke-width":10, opacity:0.5}},
    'pathM'    :{},
    'rectStart':{'w':100, 'h':40,
                 'attr':{"stroke":"gray", "stroke-width":1, "gradient":'100-#FFFF93-#D1DA93'}},
    'circle'   :{'r':7,
                 'attr':{"stroke":"darkblue", "stroke-width":2, "fill":'red'}},
    'rectL'    :{'w':100, 'h':40,
                 'attr':{"stroke":"white", "stroke-width":1, "gradient":'100-#40E0D0-#7FFFD4'}},
    'rectM'    :{'attr':{"stroke":"darkblue", "stroke-width":1, "gradient":'100-#40E0D0-#7FFFD4'}},
    'rectEnd'  :{'w':100, 'h':40,
                 'attr':{"stroke":"gray", "stroke-width":1, "gradient":'100-#FF82AB-#FFAEB9'}},
    'rectMOn'  :{'attr':{"stroke":"crimson" , "scale":1.5}},
    'font_m'   :{'attr':{"fill":"100-blue-darkblue", 'font-size':17, 'font-family':'MS UI Gothic'}},
    'icon'     :{"w":20,"h":20},
    'taskInterval':70,
    'taskR'    :10};

$ (function() {


    var config = {'paper_id'   :'main_boad',
                  'server_host':'motoki.local',
                  'port'       :'8000',
                  'objects'    :getObjects(),
                  'visual'     :v};

    mediator = new ObjectMediator();
    mediator.setUp(config);

 });

function log(msg)
{
    if (typeof console == 'object') {
        console.log(msg);
    }
}
function getObjects(){

    return  {
        'title'     :'このアプリ完成まで',
        '__id'      :'1',
        'tasks' :[{'__id' :'1-1',
                   'title':'大項目1',
                   'tasks':[]},
                  {'__id' :'1-2',
                   'title':'大項目2',
                   'tasks':[{'__id' :'1-2-1',
                             'title':'中項目1'},
                            {'__id' :'1-2-2',
                             'title':'中項目2'}]},
        ]
    };
}
</script>
</head>
<body>
<h2>Gridder</h2>

<img width='20' height='20' src='/images/pencil.gif'/>
<img width='20' height='20' src='/images/plus.png'/>
<img width='20' height='20' src='/images/trash.jpg'/>

<hr/>
<div class='campus' id='main_boad'>
</div>

</body>
